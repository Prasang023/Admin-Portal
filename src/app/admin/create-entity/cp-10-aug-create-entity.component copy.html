<header>
  <nav
    class="navbar navbar-expand-lg navbar-light bg-header nav-b navbar-inverse"
  >
    <a class="nav-link pl-3" href="" onClick="history.go(-1); return false;"
      ><i class="fa fa-angle-left primary-text"></i>
    </a>
    <span class="p16">Getting Started</span>
  </nav>

  <nav class="card mt-2 p-2 ml-32" *ngIf="!isAddFormPg">
    <ul id="progressbar">
      <li class="active col-md-2" id="step1">
        <strong>
          <i
            class="float-end fa fas fa-chevron-right text-grey-color mt-3 fs-3 next-arrow"
          ></i>
          <span class="l10">STEP 1</span> <br />
          <span class="p14 fw-bold">Create Schema</span>
        </strong>
      </li>
      <li id="step2" class="col-md-2">
        <strong>
          <i
            class="float-end fa fas fa-chevron-right text-grey-color mt-3 fs-3 next-arrow"
          ></i>
          <span class="l10">STEP 2</span> <br />
          <a href="/config-workflow">
            <span class="p14 fw-bold">Configuring Workflows</span>
          </a>
        </strong>
      </li>
      <li id="step3" class="col-md-2">
        <strong>
          <i
            class="float-end fa fas fa-chevron-right text-grey-color mt-3 fs-3 next-arrow"
          ></i>
          <span class="l10">STEP 3</span> <br />
          <span class="p14 fw-bold">Create VC template</span>
        </strong>
      </li>
      <li id="step4" class="col-md-2">
        <strong>
          <i
            class="float-end fa fas fa-chevron-right text-grey-color mt-3 fs-3 next-arrow"
          ></i>
          <span class="l10">STEP 4</span> <br />
          <span class="p14 fw-bold">Test and Launch</span>
        </strong>
      </li>
    </ul>

    <!-- <div class="row">
            <div class="col-md-2">
                <div>
                    <i class="float-end fa fas fa-chevron-right text-grey-color mt-3 fs-3 next-arrow"></i>
                    <span class="l10">STEP 1</span> <br />
                    <span class="p14 fw-bold">Create Schema</span>
                </div>

            </div>

            <div class="col-md-2">
                <div>
                    <i class="float-end fa fas fa-chevron-right text-grey-color mt-3 fs-3 next-arrow"></i>
                    <span class="l10">STEP 2</span> <br />
                    <span class="p14 fw-bold">Configuring Workflows</span>
                </div>
            </div>

            <div class="col-md-2">
                <div>
                    <i class="float-end fa fas fa-chevron-right text-grey-color mt-3 fs-3 next-arrow"></i>
                    <span class="l10">STEP 3</span> <br />
                    <span class="p14 fw-bold">Create VC template</span>
                </div>

            </div>

            <div class="col-md-2">
                <div>
                    <i class="float-end fa fas fa-chevron-right text-grey-color mt-3 fs-3 next-arrow"></i>
                    <span class="l10">STEP 4</span> <br />
                    <span class="p14 fw-bold">Test and Launch</span>
                </div>
            </div>

        </div> -->
  </nav>
</header>
<div id="body" class="container mt-1 ml-12">
  <div class="row" *ngIf="!isAddFormPg">
    <div class="col-md-3">
      <div class="wrapper">
        <!--Top menu -->
        <div class="sidebar">
          <ul class="list-unstyled components" id="menu">
            <p class="p16 fw-bold pl-4">Schema</p>
            <li class="active">
              <!-- <a href="/create/{{usecases}}/(entity:{{entity}})">Education Board</a> -->
              <a (click)="openEntity('educationboard')">Education Board</a>
            </li>
            <li>
              <!-- <a href="#">Institute</a> -->
              <a (click)="openEntity('institute')">Institute</a>
            </li>
            <li>
              <!-- <a href="#">Teacher</a> -->
              <a (click)="openEntity('teacher')">Teacher</a>
            </li>
            <li>
              <!-- <a href="#">Student</a> -->
              <a (click)="openEntity('student')">Student</a>
            </li>
            <li>
              <button
                class="m-3 p14 btn btn-sec-bg submit-button text-secondary-color"
                data-toggle="modal"
                data-target="#addEntity"
              >
                <i class="fa fa-plus" aria-hidden="true"></i> Add Schema
              </button>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="col-md-9 p-2 mb-6">
      <div>
        <div class="d-flex flex-justify-between card-body pr-2 py-2">
          <div class="heading-2">
            <h3>{{entityFields?.entityName}}</h3>
          </div>
          <div *ngIf="!isShowJson">
            <button
              class="float-end p14 btn btn-sec-bg submit-button text-secondary-color"
              (click)="showJson()"
            >
              <i class="fa fa-pencil-square-o" aria-hidden="true"></i> Schema
            </button>
          </div>
        </div>
        <div *ngIf="!isShowJson">
          <p class="p16">Fields</p>
          <div class="card w-100">
            <ul class="list-unstyled p-3">
              <li
                class="fieldBorder p-1 mb-2"
                *ngFor="let field of entityFieldList"
              >
                <input
                  type="text"
                  id="title"
                  name="lname"
                  class="m-2 py-1 px-2 fieldInput p14"
                  value="{{field?.title}}"
                />
                <input
                  type="text"
                  id="lname"
                  name="lname"
                  class="m-2 py-1 px-2 fieldInput p14"
                  value="{{field?.type}}"
                />
                <div class="float-end">
                  <span class="m-2 mr-3 l12" *ngIf="field?.required">
                    <input
                      type="checkbox"
                      id="vehicle1"
                      name="vehicle1"
                      value="Bike"
                      checked
                    />
                    <label for="vehicle1"> &nbsp; Mandatory</label>
                  </span>
                  <span class="m-2 mr-3 l12" *ngIf="!field?.required">
                    <input
                      type="checkbox"
                      id="vehicle1"
                      name="vehicle1"
                      value="Bike"
                      unchecked
                    />
                    <label for="vehicle1"> &nbsp; Mandatory</label>
                  </span>
                  <!-- <input type="text" id="lname" name="lname" class="m-2  py-1 px-2 fieldInput"> -->

                  <select
                    name="visibility"
                    id="visibility"
                    class="fieldInput m-2 py-1 px-3 mr-3 p14"
                  >
                    <option value="public">
                      <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                      Public
                    </option>
                    <option value="private">
                      <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                      Private
                    </option>
                    <option value="personal">
                      <i class="fa fa-ellipsis-h" aria-hidden="true"></i>
                      Personal
                    </option>
                  </select>

                  <div class="dropdown p14">
                    <i
                      class="fa fa-ellipsis-h m-3 text-grey-color"
                      aria-hidden="true"
                    ></i>
                    <div class="dropdown-content">
                      <a href="#">View</a>
                      <a href="#">Delete</a>
                    </div>
                  </div>
                </div>
              </li>
            </ul>

            <!-- <span class="m-3 p14 mbtn-10 submit-button text-secondary-color" data-toggle="modal"
                    data-target="#addFieldModal">
                    <i class="fa fa-plus" aria-hidden="true"></i>
                    Add Field</span> -->

            <button
              class="m-3 p14 mbtn-10 submit-button text-secondary-color"
              (click)="showAddForm()"
            >
              <i class="fa fa-plus" aria-hidden="true"></i>
              Add Field
            </button>
          </div>

          <footer class="footer fixed-bottom">
            <div class="container-fluid">
              <div>
                <button
                  class="btn text-capitalize float-end btn-primary btn-primary-sm px-3 my-2"
                >
                  Save and Next
                </button>
              </div>
            </div>
          </footer>
        </div>
        <div *ngIf="isShowJson">
          <div class="">
            <!-- <create-vc-template></create-vc-template> -->
            <json-editor
              [options]="editorOptions"
              [data]="jsonFields"
            ></json-editor>
            <footer class="footer fixed-bottom">
              <div class="container-fluid">
                <div>
                  <button
                    class="btn text-capitalize float-end btn-primary btn-primary-sm px-3 my-2"
                  >
                    Save
                  </button>
                  <button
                    (click)="showJson()"
                    class="btn btn-sec-bg float-end submit-button px-3 my-2"
                  >
                    Cancel
                  </button>
                </div>
              </div>
            </footer>

            <!-- <json-editor [options]="editorOptions" style="min-height: 700px;" [data]="jsonFields"
                      [(ngModel)]="jsonFields"></json-editor> -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="isAddFormPg" class="p-5">
    <add-field-form
      [jsonSchema]="entityFieldList"
      (newItemEvent)="jsonSchemaData($event)"
      (backEvent)="goBackEvent($event)"
    ></add-field-form>
  </div>

  <div *ngIf="isCreateVc">
    <create-vc-template></create-vc-template>
  </div>

  <!-- Show add field formio modal : start -->

  <!-- <div  class="modal right fade right-xl-modal" id="addFieldModal" tabindex="-1" role="dialog"
        aria-labelledby="addFieldModal">
        <div class="modal-dialog modal-dialog-field" role="document">
            <div class="modal-content">

                <div class="modal-header">
                    <h6 class="modal-title">Add Field</h6>
                   
                </div>
                <div class="modal-body">
                   
                    <form-builder [form]="myForm" [options]="options" (change)="onChange($event)">
                    </form-builder>
                </div>
            </div>
        </div>
    </div> -->
  <!-- End: Show add field formio modal  -->

  <!-- Modal Start : Save Entity Name -->
  <div
    class="modal right fade"
    id="addEntity"
    tabindex="-1"
    role="dialog"
    aria-labelledby="addEntity"
  >
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header pt-4 border-0">
          <h3 class="heading-5">Add Schema</h3>
          <button
            type="button"
            class="close"
            data-dismiss="modal"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="container mt-1">
          <div class="mb-3">
            <span class="l12 fw-bold">Enter Schema Name</span>
            <input
              [(ngModel)]="entityName"
              class="w-100 input-field modal-input-field p14 p-2 inputField"
              placeholder="Enter schema name"
              type="text"
            />
          </div>

          <div class="mt-2">
            <span class="l12 fw-bold"
              >Enter Description<span class="text-muted">
                (optional)</span
              ></span
            >
            <textarea
              [(ngModel)]="description"
              class="w-100 desc input-field modal-input-field p14 pl-3 inputField"
            ></textarea>
            <span class="l12 text-grey-color"
              >Description about the schema</span
            >
          </div>

          <div class="mt-4">
            <button
              data-dismiss="modal"
              aria-label="Close"
              class="btn text-capitalize float-end btn-primary btn-primary-sm p1"
            >
              Save
            </button>
            <!-- <button class="close" data-dismiss="modal" aria-label="Close"
                        class="btn text-capitalize float-end btn-primary btn-primary-sm p1 sb-text-primary mr-2 bg-none">Cancel</button> -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Modal End : Save Entity Name -->
